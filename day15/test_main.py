from main import part1, part2
import pytest

@pytest.mark.skip()
def test_part1():
    sample_data = [
        '########',
        '#..O.O.#',
        '##@.O..#',
        '#...O..#',
        '#.#.O..#',
        '#...O..#',
        '#......#',
        '########',
        '',
        '<^^>>>vv<v>>v<<'
    ]
    
    # Preprocess data
    grid = sample_data[:-2]
    moves = sample_data[-1]

    assert part1(grid, moves) == 2028
  
def test_part2():
    assert part2(['.OO@'], '<') == ['.[][]@..']
    assert part2(['OO@'], '<') == ['[][]@.']
    assert part2(['O.O@'], '<') == ['[].[]@..']
    assert part2(['O#O@'], '<') == ['[]##[]@.']
    
    
    assert part2([
        '....',
        'O#O.',
        '..@.'
    ], '^') == ['....[]..', '[]##@...', '........']
    
    assert part2([
        '....',
        '.OO.',
        'O#O.',
        '..@.'
    ], '^') == ['....[]..', '..[][]..', '[]##@...', '........']
    
    assert part2([
        '.....',
        '.@OO.',
        '.O#O.',
        '.....'
    ], '>><<<vv>>>>>^') == ['.....[][].', '......[]..', '..[]##@...', '..........']
    
    assert part2([
        '...#.',
        '.@OO.',
        '.O#O.',
        '.....'
    ], '>><<<vv>>>>>^') == ['......##..', '.....[][].', '..[]##[]..', '......@...']

    assert part2([
        '......',
        '.@OO.O',
        '...OO.',
        '....O.',
        '......'
    ], '>>vvv>>>>>>^<v<^') == ['.....[][]...', '......[][][]', '.......[]...', '........@...', '............']

    print('\n--------------')
    assert part2(['@O'], '>>') == ['.@[]']
    assert part2(['@O.'], '>>') == ['..@[].']
    assert part2(['@O.'], '>>>') == ['...@[]']
    assert part2(['@O#'], '>>>') == ['.@[]##']
    assert part2(['@OO.'], '>>') == ['..@[][].']
    assert part2(['@OO.'], '>>>') == ['...@[][]']
    assert part2(['@O.O.'], '>>') == ['..@[].[]..']
    assert part2(['@O.O.'], '>>>') == ['...@[][]..']
    assert part2(['@O.O.'], '>>>>') == ['....@[][].']
  